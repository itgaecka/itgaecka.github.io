---
title: Основные понятия
tags:
  - books
  - taocp
---
# Глава 1.

В данной серии заметок мы будем говорить о книге, которую принято рекомендовать, но читать не принято. Мне же захотелось этот принцип нарушить и первое, с чего я начала - это форумы. Например, [здесь](https://www.linux.org.ru/polls/polls/15945983) можно прочитать много различных и иногда забавных мнений. Если кратко, то они классифицируются так:

1) *лучшее, что прочитал*
2) *чтобы понять, надо быть Кнутом*
3) *на полке красиво стоит*
4) *пригодится только в том случае, если прилетит астероид и уничтожит все библиотеки с реализованными алгоритмами сортировок*

Я пока буду исходить из мысли *"лучшее, что прочитал"*, а мое мнение вы узнаете, когда осилю этот талмуд(надеюсь, что это случится до моего 60-летия). Ну и давайте начинать, как нам и рекомендуют в блок-схеме к этой книге: \
![[21.png]]
## Основные понятия

Так как том 1 называется "Основные алгоритмы", то и речь будет идти про алгоритмы. И первый алгоритм для изучения - это алгоритм Евклида: \
![[29.png]]\
Также есть его блок-схема, если кому-то так понятнее: \
![[30.png]]\
Алгоритм не из самых сложных, так как укладывается в школьные определения. Но возможно не такой очевидный(ну кому придет в голову искать НОД, деля каждый раз на остаток?). \
Для начала немного слов о `E3` и $\leftarrow$. Знак немного сбивающий с толку, но Кнут говорит о том, что использует его, чтобы не путали со знаком равенства. Типа изначально $m \neq n$, но операция замещения $\leftarrow$ делает так, что теперь $m=n$.
А теперь постараюсь немного объяснить его с математической точки зрения, но если для вас итак все понятно, то можете пропускать и переходить [сюда](#пример).\
Во-первых, условимся, что для любых двух положительных целых чисел можно найти НОД, хоть иногда он и равен 1. Исходит это из того, что любое положительное целое число $a$ можно единым образом(это важно) представить в виде произведения простых чисел:
$$
a = a_1 \ast a_2 \ast \cdots \ast a_n, 
$$
где $a_1$, $a_2$, $\cdots$, $a_n$ - простые числа(делятся только сами на себя и единицу). Например(с примером легче понять), $60 = 1 \ast 2 \ast 2 \ast 3 \ast 5$. \
Во-вторых, множество целых положительных чисел это по факту множество натуральных чисел(те, которыми овечек перед сном считаете) и его я буду обозначать символом $N$. \
В-третьих, предположим, что $m \geq n$ и НОД чисел $m$ и $n$ равен $c$, тогда и $r$ - остаток от деления $m$ на $n$ также будет делиться нацело на $c$, потому что остаток мы можем выразить следующим образом: 
$$
\frac{m}{n} = b + \frac{r}{n} \Rightarrow 
$$
$$
m = b \ast n + r \Rightarrow
$$
$$
r = m - b \ast n;
$$

Если правая часть кратна, то и левая будет кратна, иначе равенства бы не вышло. Иначе говоря: 
$$
\frac{r}{c} = \frac{m}{c} - \frac{b*n}{c};
$$
$$
\frac{m}{c} \in N, \frac{b*n}{c} \in N \implies \frac{r}{c} \in N
$$
Ну а если $r$ - кратно $c$, то задачу можно свести к нахождению НОД $n$ и $r$. Потом мы представим уже $n$ следующим образом: 
$$
\frac{n}{r} = b_{1} + \frac{r_{1}}{r} \Rightarrow 
$$
$$
n = b_{1} \ast r + r_{1} \Rightarrow
$$
$$
r_{1} = n - b_{1} \ast r;
$$
И аналогично заметим, что и $r_1$ кратно $c$: 
$$
\frac{r_{1}}{c} = \frac{n}{c} - \frac{b_{1}*r}{c};
$$ 
$$
\frac{r}{c} \in N, \frac{b_{1}*r}{c} \in N \implies \frac{r_{1}}{c} \in N
$$
и мы опять можем сузить задачу и перейти уже к НОД $r$ и $r_1$.  
Наконец, мы получим такое $r_{n+1} = 0$, что: 
$$
r_{n-1}=b_{n+1}r_{n} + r_{n+1},
$$
тогда $r_{n}$ и будет являться нашим $c$ и соответственно НОД, так как это наибольшее число, которое делит наши числа $m$ и $n$ без остатка.\
*Примечание:* Доказательство того, что этот $0$ мы все-таки получим исходит из того, что $r_{1}, r_{2}, \cdots, r_{n}$ - убывающая последовательность целых положительных чисел, а значит она сходится, подробнее - [тык](https://math.stackexchange.com/questions/2954010/why-do-we-eventually-end-up-with-0-in-euclidean-algorithm).

Надеюсь, что после этого вам стало понятнее, почему мы так действуем. Если нет, то ничего страшного, проведите 5 лет на матфаке и возвращайтесь.

### Пример

В качестве упражнения и чтобы закрепить, можно найти НОД чисел $24$ и $15$ (хотя Кнут берет $119$ и $544$, но по мне неоправданно долгая ручная работа):

`E1`: $\frac{24}{15} \Rightarrow 24 = 1*15 + 9(r)$ \
`E2`: $r=9 \neq 0$ \
`E3`: $m \leftarrow 15, n \leftarrow 9$ 

`E1`: $\frac{15}{9} \Rightarrow 15 = 1*9 +6(r)$ \
`E2`: $r = 6 \neq 0$ \
`E3`: $m \leftarrow 9, n \leftarrow 6$ 

`E1`: $\frac{9}{6} \Rightarrow 9 = 1* 6 +3(r)$ \
`E2`: $r=3 \neq 0$ \
`E3`: $m \leftarrow 6, n \leftarrow 3$ 

`E1`: $\frac{6}{3} \Rightarrow 6 = 2 * 3(c) + 0(r)$ \
`E2`: $r=0$ (Ура!) \
НОД$(24, 15) = 3$ 

Особо внимательные читатели могут заметить, что Кнут использует пример, где $m < n$ , что отличается от моего примера, но это не страшно, так как после первой же итерации мы попадем в тот случай, который нам и нужен:

`E1`: $\frac{119}{544} \Rightarrow 199 = 0 * 544 + 119(r)$ \
`E2`: $r = 199 \neq 0$ \
`E3`: $m \leftarrow 544, n \leftarrow 119$ 

И как видите, после этого шага мы опять делим большее на наименьшее. Для того, чтобы избежать лишнего шага для обмена значениями, Кнут предлагает вводить `E0`, где нужно будет выполнить обмен значениями в случае, если меньшее делится на большее.

И после такой вот разминки выделяет 5 особенностей, которыми должен обладать алгоритм (в скобках мой перевод, если требуется):

1) Конечность (наши мучения и в последствии мучения компьютера всегда должны заканчиваться)
2) Определенность (мы должны точно знать, что делать на каждом шаге, а компьютер - тем более)
3) Ввод (у нас есть какие-то первоначальные данные, но это не обязательно)
4) Вывод (мы должны получить какой-то результат, иначе зачем эти мучения)
5) Эффективность (как я хочу осилить эту книгу до 60-ти, так и алгоритм должен укладываться в какие-то сроки, иначе его результат уже никому и не нужен будет)

Дальше Кнут записывает алгоритм Евклида в терминах математической теории множеств. Давайте попробуем разобраться с этим. \
Итак, у нас есть фантастическая четверка $(Q, I, \Omega, f)$ , где: \
$Q$ - множество, содержащее подмножества $I$ и $\Omega$. То есть любой элемент из этих множеств будет принадлежать $Q$. Хранит состояния вычисления. \
$I$ - множество таких $x$, которые являются входными данными алгоритма. \
$\Omega$ - результаты вычисления. \
$f$ - функция, определяющая правила вычисления. Кроме того, она переводит множество $\Omega$ в себя. Это значит, что если мы возьмем какой-то элемент этого множества, применим к нему эту функцию, то значение останется тем же, что и было:
$$
q \in \Omega \Rightarrow f(q) = q
$$
При этом каждое входное значение $x$ из множества $I$ определяет вычисляемую последовательность $x_0, x_1, x_2, ...$ следующим образом:
$$
x_0 = x,\;\;\; x_{k+1} = f(x_k) \;\; для \;\; k \geq 0.
$$
И теперь алгоритм Евклида выглядит так: \
![[36.png]] \
Показала вам это ради фразы *"Соответствие между данной записью и алгоритмом $E$ очевидно"*. Те, кто с ним согласны, вы норм? Те, кто только что заплакали, к вам вопросов не имею. 

Давайте расшифровывать. \
В формулах $(2)$ мы устанавливаем правила, по которым наша функция работает. То есть, когда у нас на входе только два числа $m$, $n$, то результатом функции будут эти же значения, остаток мы еще не знаем и $1$ как пункт алгоритма. \
Когда у нас на входе только одно число $n$, то для него нет смысла запускать алгоритм Евклида, мы сразу можем сказать, что НОД числа $n$ само число $n$. \
Когда на входе у нас $m$, $n$, $r$, $1$, то результатом будет вот эта запись $m = a *n +r$ и соответственно $2$ пункт алгоритма для последующего анализа остатка. \
Когда на входе у нас $m$, $n$, $r$, $2$, то результатом будет либо $n$(наш НОД), либо опять целый зоопарк, но новый $(m, n, r, 3)$ и $3$ здесь переход к $3$ пункту алгоритма. \
И если у нас на входе $m$, $n$, $p$, $3$, то из этого шага мы должны опять перейти в $1$, а в результате замещения у нас $m$ меняется на $n$ и $n$ меняется на $p$.

И гвоздем программы этой главы является введение определений в той же теории множеств для того, чтобы наш алгоритм сделать еще и эффективным. Я это пока не переварила, поэтому оставляю для самостоятельного изучения, но мы к этому еще вернемся. 

Еще в конце главы есть упражнения, не знаю, насколько их целесообразно разбирать (на все есть ответы), но если что-то меня заинтересует, то разберу здесь.

